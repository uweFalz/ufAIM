:root {
	--bg:#0b0e14;
	--panel:#121826;
	--text:#e6edf3;
	--muted:#9fb0c0;
	--border:rgba(255,255,255,.10);
	--radius:16px;
}

* {box-sizing:border-box}
html,body {height:100%}
body {
	margin:0;
	font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
	background:var(--bg);
	color:var(--text);
}

.topbar {
	display:flex; justify-content:space-between; align-items:center;
	padding:12px 16px;
	border-bottom:1px solid var(--border);
	background:linear-gradient(180deg, rgba(255,255,255,.03), transparent);
}
.brand {font-weight:700}
.status {color:var(--muted); font-size:14px}

.stage {
	height: calc(100vh - 56px - 110px);
	display:grid;
	grid-template-columns: 1fr 1fr;
	gap:12px;
	padding:12px;
}

.pane {
	background:var(--panel);
	border:1px solid var(--border);
	border-radius:var(--radius);
	overflow:hidden;
	min-height:0;
	display:flex;
	flex-direction:column;
}

.paneHead {
	padding:10px 12px;
	border-bottom:1px solid var(--border);
	display:flex; justify-content:space-between; align-items:baseline;
}
.paneTitle {font-weight:650}
.paneHint {color:var(--muted); font-size:13px}

.board {
	flex:1;
	min-height:0;
}

.canvas3d {
	width:100%;
	height:100%;
	display:block;
}

.footer {
	border-top:1px solid var(--border);
	padding:10px 12px;
	display:grid;
	grid-template-columns: 1fr;
	gap:8px;
	background:rgba(255,255,255,.02);
}

.controls {
	display:flex;
	align-items:center;
	gap:10px;
	flex-wrap:wrap;
}

label {color:var(--muted); font-size:14px}
input[type="range"] {width:min(420px, 60vw)}
button {
	border:1px solid var(--border);
	background:rgba(255,255,255,.06);
	color:var(--text);
	padding:8px 12px;
	border-radius:12px;
	font-size:14px;
	cursor:pointer;
}
button:hover {border-color:rgba(255,255,255,.20)}

.mono {
	font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, monospace;
	color:var(--muted);
	font-size:13px;
}
#log {white-space:pre-wrap}
.props {
	border:1px dashed var(--border);
	border-radius:12px;
	padding:8px 10px;
	min-height:44px;
	white-space:pre-wrap;
}

.editor {
	border-top:1px solid var(--border);
	padding:10px 12px;
	background:rgba(0,0,0,.10);
}

.grid3x3 {
	display:grid;
	grid-template-columns: repeat(3, 1fr);
	gap:10px;
}

.cell {
	border:1px solid var(--border);
	border-radius:14px;
	padding:10px;
	background:rgba(255,255,255,.03);
	min-height:74px;
}

.cell.head {
	background:rgba(255,255,255,.06);
	text-align:center;
	font-weight:650;
	padding:8px 10px;
	min-height:auto;
}

.label { font-size:12px; color:var(--muted); margin-bottom:6px; }
.value { font-size:14px; color:var(--text); }
.hint { font-size:12px; color:var(--muted); margin-top:6px; }

select {
	width:100%;
	border:1px solid var(--border);
	background:rgba(255,255,255,.05);
	color:var(--text);
	padding:6px 8px;
	border-radius:10px;
}

.chk {
	display:flex;
	gap:8px;
	align-items:center;
	color:var(--muted);
	font-size:13px;
}


.hidden { display:none; }

.overlay {
	position:fixed;
	left:12px;
	bottom:12px;
	width:min(560px, calc(100vw - 24px));
	height:min(520px, calc(100vh - 90px));
	background:rgba(18,24,38,.97);
	border:1px solid var(--border);
	border-radius:18px;
	box-shadow: 0 18px 60px rgba(0,0,0,.45);
	overflow:hidden;
	z-index:999;
}

.overlayHead {
	display:flex;
	justify-content:space-between;
	align-items:center;
	padding:10px 12px;
	border-bottom:1px solid var(--border);
	background:rgba(255,255,255,.04);
}

.overlayTitle { font-weight:650; }
#btnTransClose {
	width:34px; height:34px;
	border-radius:12px;
	font-size:18px;
	line-height:18px;
}

.overlayBody {
	display:grid;
	grid-template-rows: 1fr auto;
	height:calc(100% - 54px);
}

.transBoard {
	width:100%;
	height:100%;
}

.transControls {
	border-top:1px solid var(--border);
	padding:10px 12px;
	display:grid;
	grid-template-columns: auto 1fr auto;
	gap:8px 10px;
	align-items:center;
}

.transControls select {
	grid-column: 2 / 4;
}


body.dropActive::after {
	content:"Drop JSON to import";
	position:fixed;
	inset:12px;
	border:2px dashed rgba(255,255,255,.35);
	border-radius:14px;
	display:flex;
	align-items:center;
	justify-content:center;
	font:600 18px/1.2 system-ui, -apple-system, Segoe UI, sans-serif;
	color:rgba(255,255,255,.85);
	background:rgba(10,12,18,.55);
	pointer-events:none;
	z-index:9999;
}
